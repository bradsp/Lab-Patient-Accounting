@page "/"
@inject NavigationManager NavigationManager

<PageTitle>Home</PageTitle>

<h1>Lab Outreach Application</h1>

<p class="lead">Welcome to the Lab Outreach management system. Select a module below to get started.</p>

<div class="row">
    <!-- Random Drug Screen Module - Only show if authorized -->
    <AuthorizeView Policy="RandomDrugScreen">
        <Authorized>
            <div class="col-md-6 mb-4">
            <div class="card h-100">
     <div class="card-header bg-info text-white">
                 <h4 class="mb-0">
           <span class="oi oi-random"></span> Random Drug Screen Module
     </h4>
    </div>
       <div class="card-body">
      <p class="card-text">
      Comprehensive random drug screening management system for managing candidates, performing random selections, and generating reports.
        </p>

         <h6>Features:</h6>
<ul class="list-unstyled">
                <li><span class="oi oi-check text-success"></span> Dashboard & Statistics</li>
        <li><span class="oi oi-check text-success"></span> Candidate Management</li>
  <li><span class="oi oi-check text-success"></span> Random Selection with Filters</li>
           <li><span class="oi oi-check text-success"></span> Reports (integrated)</li>
 <li><span class="oi oi-check text-success"></span> CSV Import/Export</li>
          </ul>
      </div>
  <div class="card-footer">
           <a href="/rds/dashboard" class="btn btn-info">
      <span class="oi oi-dashboard"></span> Go to Dashboard
     </a>
        <a href="/candidates" class="btn btn-outline-info ms-2">
 <span class="oi oi-people"></span> Manage Candidates
          </a>
      </div>
     </div>
            </div>
        </Authorized>
    </AuthorizeView>

    <!-- Client Viewer Module -->
    <div class="col-md-6 mb-4">
      <div class="card h-100">
    <div class="card-header bg-primary text-white">
          <h4 class="mb-0">
   <span class="oi oi-briefcase"></span> Client Viewer Module
      </h4>
            </div>
     <div class="card-body">
                <p class="card-text">
               Search and view detailed client information with integrated contact details and quick actions.
       </p>

     <h6>Features:</h6>
   <ul class="list-unstyled">
     <li><span class="oi oi-check text-success"></span> Client Search (Autocomplete)</li>
    <li><span class="oi oi-check text-success"></span> Inline Client Details</li>
  <li><span class="oi oi-info text-muted"></span> Requisition Forms (Coming Soon)</li>
          <li><span class="oi oi-info text-muted"></span> Service History (Coming Soon)</li>
  </ul>

            </div>
            <div class="card-footer">
            <a href="/clients" class="btn btn-primary">
           <span class="oi oi-magnifying-glass"></span> Search Clients
         </a>
            </div>
   </div>
    </div>
</div>

<!-- Quick Access Section -->
<div class="row mt-4">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header bg-secondary text-white">
              <h5 class="mb-0">
           <span class="oi oi-bolt"></span> Quick Access
      </h5>
    </div>
  <div class="card-body">
    <div class="row">
         <!-- RDS Quick Access Cards - Only show if authorized -->
        <AuthorizeView Policy="RandomDrugScreen">
    <Authorized>
             <div class="col-md-3 mb-3">
            <div class="card text-center h-100">
          <div class="card-body">
     <span class="oi oi-dashboard display-4 text-info"></span>
      <h6 class="card-title mt-3">RDS Dashboard</h6>
          <p class="card-text small">View statistics and manage drug screening</p>
           <a href="/rds/dashboard" class="btn btn-sm btn-info">Open</a>
       </div>
          </div>
       </div>

            <div class="col-md-3 mb-3">
    <div class="card text-center h-100">
        <div class="card-body">
         <span class="oi oi-people display-4 text-primary"></span>
           <h6 class="card-title mt-3">Manage Candidates</h6>
 <p class="card-text small">Add, edit, and manage candidates with integrated reports</p>
       <a href="/candidates" class="btn btn-sm btn-primary">Open</a>
  </div>
          </div>
        </div>

          <div class="col-md-3 mb-3">
  <div class="card text-center h-100">
 <div class="card-body">
     <span class="oi oi-data-transfer-upload display-4 text-success"></span>
              <h6 class="card-title mt-3">Import Candidates</h6>
                  <p class="card-text small">Bulk import candidates from CSV</p>
    <a href="/import" class="btn btn-sm btn-success">Open</a>
             </div>
            </div>
           </div>
      </Authorized>
            </AuthorizeView>

  <div class="col-md-3 mb-3">
        <div class="card text-center h-100">
        <div class="card-body">
       <span class="oi oi-magnifying-glass display-4 text-secondary"></span>
         <h6 class="card-title mt-3">Search Clients</h6>
    <p class="card-text small">View client information and details</p>
     <a href="/clients" class="btn btn-sm btn-secondary">Open</a>
              </div>
         </div>
     </div>
         </div>
            </div>
        </div>
    </div>
</div>

<!-- System Information -->
<div class="row mt-4">
    <div class="col-md-12">
     <div class="alert alert-light border">
       <h6><span class="oi oi-info"></span> System Information</h6>
<p class="mb-1"><strong>Environment:</strong> @GetEnvironment()</p>
     <p class="mb-1"><strong>Version:</strong> 1.0.0</p>
            <p class="mb-0"><strong>Last Updated:</strong> @DateTime.Now.ToString("MMMM yyyy")</p>
        </div>
    </div>
</div>

@code {
    private string GetEnvironment()
    {
#if DEBUG
        return "Development";
#else
        return "Production";
#endif
    }
}
