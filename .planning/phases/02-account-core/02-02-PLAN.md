# Phase 02-02: Account Banner and Summary

## Objective
Create the account banner component (showing patient header info) and the Summary tab that displays an overview of the account.

## Context
@Lab PA WinForms UI/Forms/AccountForm.Designer.cs (Banner components, summaryTab)
@LabBilling Library/Services/AccountService.cs
@LabBilling Library/Models/Account.cs

## Tasks

### Task 1: Create AccountBanner Component
**Type:** create
**Files:** `LabOutreachUI/Components/Account/AccountBanner.razor`
**Action:**
- Create banner component displaying:
  - Account Number (large, bold)
  - MRN
  - Patient Name (Last, First MI)
  - DOB / Sex
  - Client
  - Financial Class
  - Date of Service
  - Provider
- Display financial summary:
  - Total Charges
  - Total Payments/Adjustments
  - Account Balance
  - Client Balance
  - Third Party Balance
- Show billing status badge
- Add alert indicator for accounts with notes marked as alerts
- Add refresh button

**Verify:** Banner displays all account header information correctly

### Task 2: Create Account Page with Tabs
**Type:** modify
**Files:** `LabOutreachUI/Pages/Billing/Account.razor`
**Action:**
- Add tab navigation component
- Define tabs: Summary, Demographics, Diagnosis, Primary Ins, Secondary Ins, Tertiary Ins, Charges, Payments, Notes, Billing Activity
- Use Bootstrap nav-tabs
- Route to appropriate tab component
- Maintain selected tab in URL (query param or fragment)

**Verify:** Tab navigation works, URL reflects selected tab

### Task 3: Create SummaryTab Component
**Type:** create
**Files:** `LabOutreachUI/Components/Account/SummaryTab.razor`
**Action:**
- Create summary tab showing overview:
  - Patient demographics summary (name, address, phone)
  - Insurance summary (plans, policy numbers)
  - Recent charges (last 5)
  - Recent payments (last 5)
  - Recent notes (last 3)
  - Billing status and flags
- Use card layout for sections
- Link to detailed tabs where appropriate

**Verify:** Summary displays key account information at a glance

### Task 4: Create Account Actions Menu
**Type:** create
**Files:** `LabOutreachUI/Components/Account/AccountActionsMenu.razor`
**Action:**
- Create dropdown menu for account actions:
  - Change Date of Service
  - Change Financial Class
  - Change Client
  - View Audit Info
  - Clear Hold Status
  - Swap Insurances
  - Move All Charges
- Emit events for each action
- Handle action dialogs

**Verify:** Actions menu shows options, actions emit events

### Task 5: Implement Change Dialogs
**Type:** create
**Files:** `LabOutreachUI/Components/Account/Dialogs/ChangeDateOfServiceDialog.razor`, `LabOutreachUI/Components/Account/Dialogs/ChangeFinancialClassDialog.razor`, `LabOutreachUI/Components/Account/Dialogs/ChangeClientDialog.razor`
**Action:**
- Create modal dialogs for common account changes
- Include validation
- Call appropriate service methods
- Show success/error feedback
- Refresh account after change

**Verify:** Dialogs open, validate input, save changes

## Verification
- [ ] Banner displays all required fields
- [ ] Financial summary is accurate
- [ ] Tab navigation works correctly
- [ ] Summary tab shows overview
- [ ] Account actions work correctly

## Success Criteria
- Banner matches WinForms banner area
- Tab navigation is intuitive
- Summary provides useful overview
- Actions integrate with services

## Output
Create `02-02-SUMMARY.md` documenting:
- Components created
- Tab structure
- Account actions implemented
- Git commit hash
