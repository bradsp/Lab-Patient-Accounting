# Phase 02-03: Demographics Tab

## Objective
Create the Demographics tab for viewing and editing patient and guarantor information.

## Context
@Lab PA WinForms UI/Forms/AccountForm.Designer.cs (tabDemographics, demographicsLayoutPanel)
@LabBilling Library/Models/Pat.cs
@LabBilling Library/Services/AccountService.cs

## Tasks

### Task 1: Create DemographicsTab Component
**Type:** create
**Files:** `LabOutreachUI/Components/Account/DemographicsTab.razor`
**Action:**
- Create two-column layout: Patient (left) and Guarantor (right)
- Display section headers for each side
- Use EditForm with data binding
- Include Save Changes button
- Show validation messages

**Verify:** Demographics tab displays patient and guarantor sections

### Task 2: Create Patient Section Fields
**Type:** modify
**Files:** `LabOutreachUI/Components/Account/DemographicsTab.razor`
**Action:**
- Add patient fields:
  - Last Name, First Name, Middle Name, Suffix
  - Address Line 1, Address Line 2
  - City, State (dropdown), Zip Code
  - Phone
  - Sex (dropdown), DOB (DateInput)
  - Email Address
  - Marital Status (dropdown)
  - SSN (SSNInput)
  - Ordering Provider (ProviderLookup)
- Use FormField wrapper for consistent layout
- Mark required fields

**Verify:** All patient fields render with correct input types

### Task 3: Create Guarantor Section Fields
**Type:** modify
**Files:** `LabOutreachUI/Components/Account/DemographicsTab.razor`
**Action:**
- Add guarantor fields:
  - Relation to Patient (dropdown)
  - "Copy from Patient" link/button
  - Last Name, First Name, Middle Name, Suffix
  - Address, City, State, Zip
  - Phone
- Add copy from patient functionality
- Support same-as-patient scenarios

**Verify:** Guarantor fields display, copy from patient works

### Task 4: Implement State Dropdown
**Type:** create
**Files:** `LabOutreachUI/Components/Inputs/StateSelect.razor`
**Action:**
- Create US state dropdown component
- Include all 50 states + DC + territories
- Support abbreviation and full name
- Bind to state abbreviation value

**Verify:** State dropdown shows all states, binds correctly

### Task 5: Implement Demographics Save
**Type:** modify
**Files:** `LabOutreachUI/Components/Account/DemographicsTab.razor`
**Action:**
- Validate form on submit
- Call AccountService to save patient/guarantor data
- Show loading state during save
- Display success toast on save
- Display error messages on failure
- Refresh account data after save

**Verify:** Demographics changes save correctly

### Task 6: Add Status Messages Area
**Type:** modify
**Files:** `LabOutreachUI/Components/Account/DemographicsTab.razor`
**Action:**
- Add area for status/warning messages
- Display any data validation warnings
- Show last modified info
- Support multiple message types

**Verify:** Status messages display appropriately

## Verification
- [ ] All patient fields display and edit
- [ ] All guarantor fields display and edit
- [ ] Copy from patient works
- [ ] Validation prevents invalid data
- [ ] Save updates database
- [ ] Changes reflect immediately

## Success Criteria
- Full feature parity with WinForms demographics tab
- Responsive two-column layout
- Clear validation feedback
- Fast save operation

## Output
Create `02-03-SUMMARY.md` documenting:
- Demographics fields implemented
- Validation rules
- Save behavior
- Git commit hash
