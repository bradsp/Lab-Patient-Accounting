# Phase 01-04: DataGrid Component

## Objective
Create a reusable data grid component that replaces WinForms DataGridView functionality with sorting, filtering, pagination, and row selection.

## Context
@Lab PA WinForms UI/Forms/WorkListForm.Designer.cs (accountGrid)
@Lab PA WinForms UI/Forms/AccountForm.Designer.cs (PaymentsDataGrid, DiagnosisDataGrid)
@Lab PA WinForms UI/UserControls/LabDataGridView.cs

## Tasks

### Task 1: Create Base DataGrid Component
**Type:** create
**Files:** `LabOutreachUI/Components/DataGrid/DataGrid.razor`
**Action:**
- Create generic DataGrid<TItem> component
- Support IEnumerable<TItem> data source
- Define columns via child content (DataGridColumn)
- Render Bootstrap table with proper styling
- Support row click selection
- Emit OnRowSelected event

**Verify:** Grid renders data with columns, row selection works

### Task 2: Create DataGridColumn Component
**Type:** create
**Files:** `LabOutreachUI/Components/DataGrid/DataGridColumn.razor`
**Action:**
- Create column definition component
- Support Title, Field (property name), Format
- Support custom template (RenderFragment<TItem>)
- Support column width specification
- Support text alignment

**Verify:** Columns render with proper headers and data

### Task 3: Add Sorting Support
**Type:** modify
**Files:** `LabOutreachUI/Components/DataGrid/DataGrid.razor`
**Action:**
- Add sortable property to columns
- Show sort indicators in headers
- Implement client-side sorting
- Support ascending/descending toggle
- Maintain sort state

**Verify:** Clicking headers sorts data, indicators show sort direction

### Task 4: Add Filtering Support
**Type:** modify
**Files:** `LabOutreachUI/Components/DataGrid/DataGrid.razor`
**Action:**
- Add optional filter row below headers
- Support text filter on columns
- Implement client-side filtering
- Support filter clear button
- Combine multiple column filters

**Verify:** Filter inputs filter displayed data

### Task 5: Add Pagination Support
**Type:** modify
**Files:** `LabOutreachUI/Components/DataGrid/DataGrid.razor`
**Action:**
- Add PageSize parameter
- Add pagination controls at bottom
- Show page numbers with first/last/prev/next
- Show total count and current range
- Support page size selector

**Verify:** Pagination controls navigate through data

### Task 6: Add Context Menu Support
**Type:** create
**Files:** `LabOutreachUI/Components/DataGrid/DataGridContextMenu.razor`
**Action:**
- Create right-click context menu component
- Support menu items as child content
- Position menu at click location
- Close on click outside
- Pass selected row to menu actions

**Verify:** Right-click shows context menu, actions receive row data

### Task 7: Add Row Styling Support
**Type:** modify
**Files:** `LabOutreachUI/Components/DataGrid/DataGrid.razor`
**Action:**
- Add RowClass callback parameter
- Support conditional row styling
- Add striped row option
- Add hover highlight option
- Support selected row highlighting

**Verify:** Rows apply conditional CSS classes correctly

## Verification
- [ ] Grid renders with all features
- [ ] Sorting works correctly
- [ ] Filtering reduces displayed items
- [ ] Pagination navigates correctly
- [ ] Context menu positions correctly
- [ ] Row styling applies correctly

## Success Criteria
- Grid matches WinForms DataGridView functionality
- Good performance with 1000+ rows
- Clean, simple API
- Fully styled with Bootstrap 5

## Output
Create `01-04-SUMMARY.md` documenting:
- DataGrid component API
- Column definition examples
- Feature configurations
- Performance notes
- Git commit hash
